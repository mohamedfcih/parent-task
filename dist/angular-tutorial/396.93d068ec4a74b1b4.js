"use strict";(self.webpackChunkangular_tutorial=self.webpackChunkangular_tutorial||[]).push([[396],{396:(q,l,o)=>{o.r(l),o.d(l,{USERS_ROUTES:()=>C});var g=o(5521),u=o(4755),d=o(7455),r=o(5030),a=o(590),t=o(3020),m=o(5160);function h(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"Name is required"),t.qZA())}function v(i,s){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,h,2,0,"div",17),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.name.errors.required)}}function b(i,s){1&i&&(t.TgZ(0,"div"),t._uU(1,"Job is required"),t.qZA())}function _(i,s){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,b,2,0,"div",17),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.job.errors.required)}}function Z(i,s){1&i&&t._UZ(0,"span",18)}const f=function(i){return{"is-invalid":i}};function x(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",5),t.NdJ("ngSubmit",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onSubmit())}),t.TgZ(1,"div",6)(2,"div",7)(3,"label",8),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",9),t.YNc(6,v,2,1,"div",10),t.qZA(),t.TgZ(7,"div",7)(8,"label",8),t._uU(9," Job "),t.qZA(),t._UZ(10,"input",11),t.YNc(11,_,2,1,"div",10),t.qZA()(),t.TgZ(12,"div",12)(13,"button",13),t.YNc(14,Z,1,0,"span",14),t._uU(15," Save "),t.qZA(),t.TgZ(16,"a",15),t._uU(17,"Cancel"),t.qZA()()()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngClass",t.VKq(7,f,e.submitted&&e.f.name.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.name.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(9,f,e.submitted&&e.f.job.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.job.errors),t.xp6(2),t.Q6J("disabled",e.submitting),t.xp6(1),t.Q6J("ngIf",e.submitting)}}function U(i,s){1&i&&(t.TgZ(0,"div",19),t._UZ(1,"span",20),t.qZA())}let p=(()=>{class i{constructor(e,n,c,T,S){this.formBuilder=e,this.route=n,this.router=c,this.accountService=T,this.alertService=S,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({name:["",r.kI.required],job:["",r.kI.required]}),this.title="Add User",this.id&&(this.title="Edit User",this.loading=!0,this.accountService.getById(this.id).pipe((0,a.P)()).subscribe(e=>{this.form.patchValue(e),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveUser().pipe((0,a.P)()).subscribe({next:()=>{this.alertService.success("User saved",!0),this.router.navigateByUrl("/users")},error:e=>{this.alertService.error(e),this.submitting=!1}}))}saveUser(){return this.id?this.accountService.update(this.id,this.form.value):this.accountService.addUser(this.form.value)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(d.gz),t.Y36(d.F0),t.Y36(m.B),t.Y36(m.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:6,vars:3,consts:[[1,"p-4"],[1,"container"],[1,"text-center"],["class","col-6 m-auto mt-3",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],[1,"col-6","m-auto","mt-3",3,"formGroup","ngSubmit"],[1,"row"],[1,"mb-3","col-12"],[1,"form-label"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","job","formControlName","job",1,"form-control",3,"ngClass"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/users",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3),t.qZA(),t.YNc(4,x,18,11,"form",3),t.YNc(5,U,2,0,"div",4),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(n.title),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading))},dependencies:[u.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.mk,d.rH]}),i})();const C=[{path:"",component:g.n},{path:"add",component:p},{path:"edit/:id",component:p},{path:"details/:id",component:(()=>{class i{constructor(e,n){this.accountService=e,this.route=n,this.loading=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.id&&(this.loading=!0,this.accountService.getById(this.id).pipe((0,a.P)()).subscribe(e=>{this.selectedUser=e,this.title=`${e.first_name} ${e.last_name}`,this.loading=!1}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.B),t.Y36(d.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details"]],standalone:!0,features:[t.jDz],decls:10,vars:4,consts:[[1,"container","d-flex","justify-content-center","text-center","mt-5"],[1,"card","col-6","py-5"],[1,"d-flex","flex-column"],[1,"my-3"],[3,"src","alt"],[1,"display-4"],[1,"lead"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div")(6,"h1",5),t._uU(7),t.qZA(),t.TgZ(8,"p",6),t._uU(9),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("src",n.selectedUser.avatar,t.LSH)("alt",n.selectedUser.first_name),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.Oqu(n.selectedUser.email))},styles:["img[_ngcontent-%COMP%]{border-radius:50%}"]}),i})()}]}}]);